unalias ssh-add
ssh (){
    if [[ -z "$SSH_AUTH_SOCK" || -z "$SSH_AGENT_PID" ]]; then
        eval `ssh-agent`;
    fi
    ssh-add -l >/dev/null;
    if [ ! $? ]; then
        ssh-add;
    fi
    /usr/bin/ssh -A $@;
}
